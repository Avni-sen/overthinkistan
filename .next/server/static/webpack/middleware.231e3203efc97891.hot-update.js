"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/next/dist/esm/api/server.js\");\n\n// Korumalı rotalar\nconst protectedRoutes = [\n    \"/\"\n];\n// Herkese açık rotalar\nconst publicRoutes = [\n    \"/auth/login\",\n    \"/auth/register\"\n];\n// Token'ın geçerli olup olmadığını kontrol eden fonksiyon\nconst isValidToken = (token)=>{\n    // Token formatını kontrol et (Bearer ile başlıyor mu?)\n    if (!token.startsWith(\"Bearer \")) {\n        return false;\n    }\n    // Gerçek bir uygulamada burada JWT token'ın geçerliliğini kontrol edebilirsiniz\n    // Örneğin: token'ın süresi dolmuş mu, imzası geçerli mi, vb.\n    return true;\n};\nfunction middleware(request) {\n    const { pathname } = request.nextUrl;\n    const tokenCookie = request.cookies.get(\"token\");\n    const token = tokenCookie?.value;\n    // Token varsa geçerliliğini kontrol et\n    const hasValidToken = token ? isValidToken(token) : false;\n    // Eğer korumalı bir rotaya erişilmeye çalışılıyorsa ve geçerli token yoksa\n    if (protectedRoutes.includes(pathname) && !hasValidToken) {\n        const url = new URL(\"/auth/login\", request.url);\n        url.searchParams.set(\"redirectUrl\", pathname);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(url);\n    }\n    // Eğer kullanıcı giriş yapmışsa ve login/register sayfalarına erişmeye çalışıyorsa\n    if (publicRoutes.includes(pathname) && hasValidToken) {\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(new URL(\"/\", request.url));\n    }\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n}\nconst config = {\n    matcher: [\n        \"/\",\n        \"/auth/:path*\"\n    ]\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTJDO0FBRzNDLG1CQUFtQjtBQUNuQixNQUFNQyxrQkFBa0I7SUFBQztDQUFJO0FBRTdCLHVCQUF1QjtBQUN2QixNQUFNQyxlQUFlO0lBQUM7SUFBZTtDQUFpQjtBQUV0RCwwREFBMEQ7QUFDMUQsTUFBTUMsZUFBZSxDQUFDQztJQUNwQix1REFBdUQ7SUFDdkQsSUFBSSxDQUFDQSxNQUFNQyxVQUFVLENBQUMsWUFBWTtRQUNoQyxPQUFPO0lBQ1Q7SUFFQSxnRkFBZ0Y7SUFDaEYsNkRBQTZEO0lBRTdELE9BQU87QUFDVDtBQUVPLFNBQVNDLFdBQVdDLE9BQW9CO0lBQzdDLE1BQU0sRUFBRUMsUUFBUSxFQUFFLEdBQUdELFFBQVFFLE9BQU87SUFDcEMsTUFBTUMsY0FBY0gsUUFBUUksT0FBTyxDQUFDQyxHQUFHLENBQUM7SUFDeEMsTUFBTVIsUUFBUU0sYUFBYUc7SUFFM0IsdUNBQXVDO0lBQ3ZDLE1BQU1DLGdCQUFnQlYsUUFBUUQsYUFBYUMsU0FBUztJQUVwRCwyRUFBMkU7SUFDM0UsSUFBSUgsZ0JBQWdCYyxRQUFRLENBQUNQLGFBQWEsQ0FBQ00sZUFBZTtRQUN4RCxNQUFNRSxNQUFNLElBQUlDLElBQUksZUFBZVYsUUFBUVMsR0FBRztRQUM5Q0EsSUFBSUUsWUFBWSxDQUFDQyxHQUFHLENBQUMsZUFBZVg7UUFDcEMsT0FBT1IscURBQVlBLENBQUNvQixRQUFRLENBQUNKO0lBQy9CO0lBRUEsbUZBQW1GO0lBQ25GLElBQUlkLGFBQWFhLFFBQVEsQ0FBQ1AsYUFBYU0sZUFBZTtRQUNwRCxPQUFPZCxxREFBWUEsQ0FBQ29CLFFBQVEsQ0FBQyxJQUFJSCxJQUFJLEtBQUtWLFFBQVFTLEdBQUc7SUFDdkQ7SUFFQSxPQUFPaEIscURBQVlBLENBQUNxQixJQUFJO0FBQzFCO0FBRU8sTUFBTUMsU0FBUztJQUNwQkMsU0FBUztRQUFDO1FBQUs7S0FBZTtBQUNoQyxFQUFFIiwic291cmNlcyI6WyIvVXNlcnMvYXZuaWthYW5zZW4vRG9jdW1lbnRzL1Byb2plY3RzL092ZXJ0aGlua2lzdGFuL3NyYy9taWRkbGV3YXJlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuaW1wb3J0IHR5cGUgeyBOZXh0UmVxdWVzdCB9IGZyb20gXCJuZXh0L3NlcnZlclwiO1xuXG4vLyBLb3J1bWFsxLEgcm90YWxhclxuY29uc3QgcHJvdGVjdGVkUm91dGVzID0gW1wiL1wiXTtcblxuLy8gSGVya2VzZSBhw6fEsWsgcm90YWxhclxuY29uc3QgcHVibGljUm91dGVzID0gW1wiL2F1dGgvbG9naW5cIiwgXCIvYXV0aC9yZWdpc3RlclwiXTtcblxuLy8gVG9rZW4nxLFuIGdlw6dlcmxpIG9sdXAgb2xtYWTEscSfxLFuxLEga29udHJvbCBlZGVuIGZvbmtzaXlvblxuY29uc3QgaXNWYWxpZFRva2VuID0gKHRva2VuOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgLy8gVG9rZW4gZm9ybWF0xLFuxLEga29udHJvbCBldCAoQmVhcmVyIGlsZSBiYcWfbMSxeW9yIG11PylcbiAgaWYgKCF0b2tlbi5zdGFydHNXaXRoKFwiQmVhcmVyIFwiKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIC8vIEdlcsOnZWsgYmlyIHV5Z3VsYW1hZGEgYnVyYWRhIEpXVCB0b2tlbifEsW4gZ2XDp2VybGlsacSfaW5pIGtvbnRyb2wgZWRlYmlsaXJzaW5pelxuICAvLyDDlnJuZcSfaW46IHRva2VuJ8SxbiBzw7xyZXNpIGRvbG11xZ8gbXUsIGltemFzxLEgZ2XDp2VybGkgbWksIHZiLlxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgeyBwYXRobmFtZSB9ID0gcmVxdWVzdC5uZXh0VXJsO1xuICBjb25zdCB0b2tlbkNvb2tpZSA9IHJlcXVlc3QuY29va2llcy5nZXQoXCJ0b2tlblwiKTtcbiAgY29uc3QgdG9rZW4gPSB0b2tlbkNvb2tpZT8udmFsdWU7XG5cbiAgLy8gVG9rZW4gdmFyc2EgZ2XDp2VybGlsacSfaW5pIGtvbnRyb2wgZXRcbiAgY29uc3QgaGFzVmFsaWRUb2tlbiA9IHRva2VuID8gaXNWYWxpZFRva2VuKHRva2VuKSA6IGZhbHNlO1xuXG4gIC8vIEXEn2VyIGtvcnVtYWzEsSBiaXIgcm90YXlhIGVyacWfaWxtZXllIMOnYWzEscWfxLFsxLF5b3JzYSB2ZSBnZcOnZXJsaSB0b2tlbiB5b2tzYVxuICBpZiAocHJvdGVjdGVkUm91dGVzLmluY2x1ZGVzKHBhdGhuYW1lKSAmJiAhaGFzVmFsaWRUb2tlbikge1xuICAgIGNvbnN0IHVybCA9IG5ldyBVUkwoXCIvYXV0aC9sb2dpblwiLCByZXF1ZXN0LnVybCk7XG4gICAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoXCJyZWRpcmVjdFVybFwiLCBwYXRobmFtZSk7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdCh1cmwpO1xuICB9XG5cbiAgLy8gRcSfZXIga3VsbGFuxLFjxLEgZ2lyacWfIHlhcG3EscWfc2EgdmUgbG9naW4vcmVnaXN0ZXIgc2F5ZmFsYXLEsW5hIGVyacWfbWV5ZSDDp2FsxLHFn8SxeW9yc2FcbiAgaWYgKHB1YmxpY1JvdXRlcy5pbmNsdWRlcyhwYXRobmFtZSkgJiYgaGFzVmFsaWRUb2tlbikge1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UucmVkaXJlY3QobmV3IFVSTChcIi9cIiwgcmVxdWVzdC51cmwpKTtcbiAgfVxuXG4gIHJldHVybiBOZXh0UmVzcG9uc2UubmV4dCgpO1xufVxuXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xuICBtYXRjaGVyOiBbXCIvXCIsIFwiL2F1dGgvOnBhdGgqXCJdLFxufTtcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcm90ZWN0ZWRSb3V0ZXMiLCJwdWJsaWNSb3V0ZXMiLCJpc1ZhbGlkVG9rZW4iLCJ0b2tlbiIsInN0YXJ0c1dpdGgiLCJtaWRkbGV3YXJlIiwicmVxdWVzdCIsInBhdGhuYW1lIiwibmV4dFVybCIsInRva2VuQ29va2llIiwiY29va2llcyIsImdldCIsInZhbHVlIiwiaGFzVmFsaWRUb2tlbiIsImluY2x1ZGVzIiwidXJsIiwiVVJMIiwic2VhcmNoUGFyYW1zIiwic2V0IiwicmVkaXJlY3QiLCJuZXh0IiwiY29uZmlnIiwibWF0Y2hlciJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});